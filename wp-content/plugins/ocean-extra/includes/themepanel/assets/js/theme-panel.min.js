jQuery(document).ready(function(s){function t(e,t){""!==e&&void 0!==e&&s.ajax({url:ajaxurl,method:"POST",data:{_nonce:ExtraThemePanelOptions.ocean_save_single_option_nonce,option_name:e,value:t,action:"oceanwp_cp_save_single_option"},beforeSend:function(){window.showNotify("success",oceanwp_cp_textdomain.saving_settings)},success:function(e){window.showNotify(e.success,e.data.message)},error:function(e,t,n){},complete:function(){}})}window.owpSystemInfoGetter=function(){s("[data-oceanwp-ajax]").each(function(){var e=s(this),t=e.data("oceanwpAjax"),n=e.find(".status-state"),o=e.find(".status-text");wp.ajax.send("oceanwp_cp_system_status",{data:{nonce:ExtraThemePanelOptions.nonce,type:t},success:function(){n.html('<span class="status-invisible">True</span><span class="status-state status-true"></span>')},error:function(e){n.html('<span class="status-invisible">False</span><span class="status-state status-false"></span>'),o.html(e)}})})},s(document.body).on("op_panel_loaded",function(e){let t=s(".multi-checkbox-wrapper");t.each(function(){let e=s(this),t=e.find('input[type="checkbox"]');var n=t.length;let o=0;t.each(function(){s(this).prop("checked")&&o++}),n===o&&e.closest("form").find(".oe-switcher-bulk")&&e.closest("form").find(".oe-switcher-bulk").prop("checked",!0)}),jQuery("#owp_adobe_fonts_integration").trigger("change")}),s(document.body).on("submit","#ocean-customizer-control form",function(e){e.preventDefault(),function(e){s("#oceanwp-switch-customizer-search").prop("checked")?e.find('input[name="oe_panels_settings[customizer-search]"]').length?e.find('input[name="oe_panels_settings[customizer-search]"]').val("true"):e.append('<input type="hidden" name="oe_panels_settings[customizer-search]" value="true" />'):e.find('input[name="oe_panels_settings[customizer-search]"]').length&&e.find('input[name="oe_panels_settings[customizer-search]"]').remove();s.ajax({url:ajaxurl,method:"POST",data:{form_fields:e.serialize(),action:"oceanwp_cp_save_customizer_settings"},beforeSend:function(){window.showNotify("success",oceanwp_cp_textdomain.saving_settings)},success:function(e){window.showNotify(e.success,e.data.message)},error:function(e,t,n){},complete:function(){}})}(s(this))}),s(document.body).on("submit","form.save_panel_settings",function(e){e.preventDefault(),e=s(this),s.ajax({url:ajaxurl,method:"POST",data:{form_fields:e.serialize(),action:"oceanwp_cp_save_panel_settings",nonce:ExtraThemePanelOptions.nonce},beforeSend:function(){window.showNotify("success",oceanwp_cp_textdomain.saving_settings)},success:function(e){window.showNotify(e.success,e.data.message)},error:function(e,t,n){},complete:function(){}})}),s(document.body).on("submit","form.integration-settings",function(e){e.preventDefault(),function(e){const t=e.data("settings-for");s.ajax({url:ajaxurl,method:"POST",data:{form_fields:e.serialize(),action:"oceanwp_cp_save_integrations_settings",settings_for:t,nonce:ExtraThemePanelOptions.nonce},beforeSend:function(){window.showNotify("success",oceanwp_cp_textdomain.saving_settings)},success:function(e){window.showNotify(e.success,e.data.message),"adobe_fonts"===t&&(e.success?(s(".adobe.adobe-ok").removeClass("hidden"),s(".adobe.adobe-error").addClass("hidden")):(s(".adobe.adobe-ok").addClass("hidden"),s(".adobe.adobe-error").removeClass("hidden")))},error:function(e,t,n){},complete:function(){}})}(s(this))}),s(document.body).on("change",".oe-switcher-bulk",function(e){e.preventDefault();var t=s(this).prop("checked");s(this).closest(".column-wrap.clr").siblings().each(function(){s(this).find('input[type="checkbox"]').prop("checked",t)})}),s(document.body).on("change",".oceanwp-switch-single-option",function(e){e.preventDefault();e=s(this).prop("checked")?"yes":"no";t(s(this).attr("name"),e)}),s(document.body).on("change","#oceanwp-switch-customizer-search",function(e){e.preventDefault(),s("#ocean-customizer-control form").submit()}),s(document.body).on("change","#oceanwp-switch-library-disable",function(e){e.preventDefault(),t("oe_library_active_status",s(this).prop("checked")?"yes":"no")}),s(document.body).on("change","#owp_adobe_fonts_integration",function(e){e.preventDefault(),"1"===s(this).find("option:selected").val()?s('[data-for="owp_adobe_fonts"]').show():s('[data-for="owp_adobe_fonts"]').hide()}),s(document.body).on("change","#oceanwp-switch-notification-disable",function(e){e.preventDefault(),t("oe_notification_active_status",s(this).prop("checked")?"yes":"no")}),s(document.body).on("change","#oceanwp-switch-edit-post-disable",function(e){e.preventDefault(),t("oe_disable_edit_post_active_status",s(this).prop("checked")?"yes":"no")}),s(document.body).on("change","#oceanwp-switch-svg-support-disable",function(e){e.preventDefault(),t("oe_svg_support_active_status",s(this).prop("checked")?"yes":"no")}),s(document.body).on("change","#oceanwp-switch-install-demos-active",function(e){e.preventDefault(),t("oe_install_demos_active",s(this).prop("checked")?"yes":"no"),s(this).prop("checked")?s("#install-demos").fadeIn():s("#install-demos").fadeOut()}),s(document.body).on("click","#ocean-customizer-reset .btn",function(e){e.preventDefault(),confirm("Do you really want to reset customizer settings?")&&s.ajax({url:ajaxurl,method:"POST",data:{_nonce:ExtraThemePanelOptions.customizer_reset_nonce,action:"oceanwp_cp_customizer_reset"},beforeSend:function(){window.showNotify("success",oceanwp_cp_textdomain.reseting)},success:function(e){window.showNotify(e.success,e.data.message)},error:function(e,t,n){},complete:function(){}})}),s(document.body).on("click","#oceanwp-export-button",function(e){e.preventDefault(),s.ajax({url:ajaxurl,method:"POST",dataType:"binary",xhrFields:{responseType:"blob"},data:{_nonce:ExtraThemePanelOptions.customizer_export_nonce,action:"oceanwp_cp_customizer_export"},beforeSend:function(){window.showNotify("success",oceanwp_cp_textdomain.exporting)},success:function(e){var t=document.createElement("a"),n=ExtraThemePanelOptions.customizer_export_filename;t.href=URL.createObjectURL(e),t.download=n,t.click()},error:function(e,t,n){console.log("Something went wrong")},complete:function(){}})}),s(document.body).on("submit",".form-oceanwp_import",function(e){var t;e.preventDefault(),s(this),t=new FormData,0<(e=s("#oceanwp-import-file")[0].files).length?(t.append("file",e[0]),t.append("action","oceanwp_cp_customizer_import"),t.append("_nonce",ExtraThemePanelOptions.customizer_import_nonce),s.ajax({url:ajaxurl,type:"POST",data:t,contentType:!1,processData:!1,beforeSend:function(){window.showNotify("success",oceanwp_cp_textdomain.importing)},success:function(e){window.showNotify(e.success,e.data.message)},error:function(e,t,n){},complete:function(){}})):alert("Please select a file.")}),s(document.body).on("click",".oceanwp-button--get-system-report",function(){var a="";s("#oceanwp-tp-system-info thead, #oceanwp-tp-system-info tbody").each(function(){var e,t=s(this);t.is("thead")?(e=t.find("th:eq(0)").data("export-label")||t.text(),a=a+"\n### "+s.trim(e)+" ###\n\n"):s("tr",t).each(function(){var n,e=s(this),t=e.find("td:eq(0)").data("export-label")||e.find("td:eq(0)").text(),o=s.trim(t).replace(/(<([^>]+)>)/gi,""),t=s.trim(e.find("td:eq(1)").text().replace(/(\r\n\t|\n|\r|\t)/gm,"")),e=t.split(", ");1<e.length&&(n="",s.each(e,function(e,t){n=n+t+"\n"}),t=n),a=a+""+o+": "+t+"\n"})});try{return!function(t){{if(window.clipboardData&&window.clipboardData.setData)return window.clipboardData.setData("Text",t);if(document.queryCommandSupported&&document.queryCommandSupported("copy")){var e=document.createElement("textarea");e.textContent=t,e.style.position="fixed",document.body.appendChild(e),e.select();try{return document.execCommand("copy")}catch(e){return console.warn("Copy to clipboard failed.",e),prompt("Copy to clipboard: Ctrl+C, Enter",t)}finally{document.body.removeChild(e)}}}}(a)?(s("#oceanwp-textarea--get-system-report textarea").val(a).focus().select(),s("#oceanwp-textarea--get-system-report").slideDown()):void 0!==window.showNotify?window.showNotify("success",oceanwp_cp_textdomain.copied_system_info,!0,6e3):alert(oceanwp_cp_textdomain.copied_system_info),!1}catch(e){console.log(e)}return!1}),s(document.body).on("change","#owp_recaptcha_version",function(){let e=s(this).find("option:selected");e.length&&(s(this).find("option").each(function(){jQuery("#owp_google_recaptcha-"+jQuery(this).val()).hide(0)}),jQuery("#owp_google_recaptcha-"+e.val()).show(0))}),s("#owp_recaptcha_version").length&&s("#owp_recaptcha_version").trigger("change")});